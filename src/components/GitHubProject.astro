---
const { name, description, repo } = Astro.props

let starCount: number | null = null

try {
  const response = await fetch(`https://api.github.com/repos/${repo}`)
  if (response.ok) {
    const data = await response.json()
    starCount = data.stargazers_count
  }
} catch {
  // Fetch failed, starCount remains null
}
---

<a href=`https://github.com/${repo}`>{name}</a>: {description}{starCount && ` (â­‘${new Intl.NumberFormat().format(starCount)})`}
